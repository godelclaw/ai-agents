# Ramsey(3,6)=18 Claim 1 Part 2: Prove degree â‰  4

## CONTEXT

We're formalizing KrÃ¼ger's proof that R(3,6)=18 in Lean 4.

**Claim 1 status:**
- âœ… COMPLETE: degree â‰¤ 5 (from triangle-free + no 6-indep)
- âœ… COMPLETE: degree â‰¥ 4 (from R(3,5)=14, see Basic.lean lines 285-422)
- ðŸ”´ TODO: degree â‰  4 (this request)

**Current code structure** (Basic.lean lines 429-442):
```lean
lemma claim1_five_regular {G : SimpleGraph (Fin 18)} [DecidableRel G.Adj]
    (h_tri : TriangleFree G) (h_no6 : NoKIndepSet 6 G) :
    IsKRegular G 5 := by
  have h_le : âˆ€ v, G.degree v â‰¤ 5 := ... -- âœ… DONE
  have h_ge_4 : âˆ€ v, G.degree v â‰¥ 4 := ... -- âœ… DONE
  
  -- Part 3: degree = 4 leads to contradiction (TODO)
  have h_no_deg_4 : âˆ€ v, G.degree v â‰  4 := by
    intro v
    sorry -- ðŸ”´ THIS IS WHAT WE NEED HELP WITH

  -- Once h_no_deg_4 is proven, degree = 5 follows by omega
  have h_ge : âˆ€ v, G.degree v â‰¥ 5 := by omega
  intro v
  exact le_antisymm (h_le v) (h_ge v)
```

## KRÃœGER'S ARGUMENT (from FULLTEXT01.txt, lines 540-564)

Here's the relevant excerpt from KrÃ¼ger's thesis:

```
Assume there is some Ramsey (3, 6; 18)-graph G. For every v âˆˆ V (G)
have that Gv is a (3, 5; 17 âˆ’ d(v))-graph and therefore, by R(3, 5) = 14, we
have Î´ (G) â‰¥ 4. Since N(v) is independent for all v âˆˆ V (G) we also have
âˆ†(G) â‰¤ 5. Suppose v is a tetravalent vertex in G. The graph Gv has to be
(isomorphic to) H13 since it can be shown that H13 is the unique Ramsey
(3, 5; 13)-graph. In particular, H13 is a minimal Ramsey graph. But H13 is
4-regular and e(3, 5; 13) = 26 so if we have at least 14 edges between N(v)
and Gv we would get a vertex of valency at least 6. Thus we have at most one
pentavalent neighbour of every tetravalent vertex in G. On the other hand if
the number of edges between N(v) and Gv is 13 (or 12) then a neighbour of v
would be tetravalent with at least two pentavalent neighbours. This show that
there are no tetravalent vertices in G, i.e. G has to be 5-regular.
```

Key points:
1. If deg(v) = 4, then Gv (the graph excluding v and its neighbors) has 13 vertices
2. Gv must be isomorphic to H13, the unique Ramsey (3,5;13)-graph
3. H13 is 4-regular with 26 edges
4. Counting edges between N(v) (4 neighbors) and Gv (13 vertices, 4-regular):
   - Need to avoid creating degree â‰¥ 6 vertices
   - Edge count constraints lead to contradiction

## THE BC4 GRAPH (mentioned in thesis line 554)

KrÃ¼ger also mentions "BC4" as the unique minimal Ramsey (3,5;12)-graph with 20 edges.
This is relevant because when we have 5 neighbors, the remaining graph has 12 vertices.

## QUESTION FOR GPT-5.1 / GEMINI

**We need help understanding and formalizing the degree â‰  4 argument:**

1. **What is H13?** 
   - Can you find the definition/structure of H13 (unique Ramsey (3,5;13)-graph)?
   - Is it constructively defined anywhere in the literature?
   - What are its key structural properties?

2. **Edge counting argument:**
   - KrÃ¼ger says "if we have at least 14 edges between N(v) and Gv we would get a vertex of valency at least 6"
   - How does this work exactly? 
   - N(v) has 4 vertices, Gv has 13 vertices
   - H13 is 4-regular, so each vertex in Gv has degree 4 within Gv
   - If there are â‰¥14 edges from N(v) to Gv, how do we derive degree â‰¥6?

3. **The contradiction cases:**
   - Case A: â‰¥14 edges between N(v) and Gv â†’ some vertex gets degree â‰¥6 (contradicts âˆ†â‰¤5)
   - Case B: â‰¤13 edges â†’ some neighbor of v has degree 4 with â‰¥2 degree-5 neighbors
   - Why is Case B impossible? What's the exact structure that breaks?

4. **Formalization strategy:**
   - Should we axiomatize H13's existence and properties?
   - Or try to construct it explicitly?
   - What's the minimal set of facts about H13 needed for the proof?

5. **Lean 4 sketch:**
   - Can you provide a proof sketch showing the structure?
   - Key lemmas we'd need?
   - How to organize the case analysis?

## WHAT WE HAVE AVAILABLE IN LEAN

**Infrastructure that works:**
- `degree_ge_four_of_triangleFree_no_6indep` - already proven via R(3,5)=14
- `comap` / `map` machinery for induced subgraphs (just used in recursion!)
- `IsKRegular`, `TriangleFree`, `NoKIndepSet` definitions
- Cardinality and counting lemmas

**Axioms available:**
```lean
axiom ramsey_three_five : ramseyNumber 3 5 = 14
```

**What we can add if needed:**
- Axioms about H13 structure
- Axioms about BC4 if relevant
- Helper lemmas about edge counting

## SUCCESS CRITERIA

We need a complete proof (or detailed proof sketch) that:
```lean
have h_no_deg_4 : âˆ€ v : Fin 18, G.degree v â‰  4 := by
  intro v h_deg_4
  -- Proof that derives contradiction from:
  -- 1. G is triangle-free
  -- 2. G has no 6-independent set
  -- 3. deg(v) = 4
  -- Using facts about H13 and edge counting
  sorry
```

## FILES FOR REFERENCE

1. **KrÃ¼ger's thesis excerpt** (above) - lines 540-564 from FULLTEXT01.txt
2. **Current Lean code**: Basic.lean lines 276-442 (Claim 1 structure)
3. **Pattern to follow**: degree_ge_four_of_triangleFree_no_6indep (Basic.lean lines 285-422)

## THANK YOU!

This is the last piece needed to complete Claim 1 (5-regularity). Once we have this,
Claims 2-3 should follow more straightforwardly.

The edge counting argument seems to be the key technical hurdle - understanding how
the constraint from H13 being 4-regular forces the contradiction.
